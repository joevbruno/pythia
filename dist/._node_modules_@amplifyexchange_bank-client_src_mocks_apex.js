export class MockApex {
  static makeRequestcode() {
    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'
    let code = ''

    for (let i = 0; i < 10; i++) code += possible.charAt(Math.floor(Math.random() * possible.length))

    return code
  }

  static async CreateDepositTicket(params) {
    console.log('***MOCK CreateDepositTicket APEX: ', params)

    const ticketnumber = Math.round(Math.random() * 100)
    const requestcode = MockApex.makeRequestcode()

    return {
      result: true,
      errormsg: '',
      errorcode: 0,
      detail: '',
      ticketnumber,
      requestcode
    }
  }

  static async CreateWithdrawTicket(params) {
    console.log('***MOCK CreateWithdrawTicket APEX: ', params)

    return {
      result: true,
      errormsg: '',
      errorcode: 0,
      detail: ''

    }
  }

  static async RPCPromise(command, body) {
    console.log('***MOCK RPCPromise APEX: ', command, body)

    const response = { result: true }
    if (command === 'GetDepositTicket') {
      response.o = JSON.stringify((await import('./GetDepositTicket.json')).default)
    } else if (command === 'GetWithdrawTicket') {
      response.o = JSON.stringify((await import('./GetWithdrawTicket.json')).default)
    } else {
      console.log('***MOCK MISSING')
    }

    return response
  }
}
